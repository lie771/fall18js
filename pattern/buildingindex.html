<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Building Animate</title>
	<style type="text/css">

		html, body{
			background-color: black;
		}

		#wrapper{
			width: 100vw;
		}

		.container{
			position: relative;
			display: inline-block;
			width: 10vw;
			height: 10vw;
		}

		.circle{
			position: absolute;
			background-color: white;
			width: 0;
			height: 0;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			border-left: 20px solid grey;
			border-right: 20px solid beige;
			border-bottom: 40px solid darkgray;
		}

	</style>
</head>
<body>
	<div id="wrapper"></div>

<script type="text/javascript">


	var circleDiameter = 0;
	var direction = false;
	var totalLength = 500;
	var counter = 0;
	var interval = 0;

 
	for (var i = 0; i <totalLength; i++) {
		setTimeout(function(){ 		

		var container = document.createElement("div");

		container.className = "container";

			if (counter % 5 == 0){
				if (direction){
					direction = false; 
				}else{
					direction = true;
					circleDiameter = 1;
				}
			}

			if(!direction){
					circleDiameter--;
			}else{
					circleDiameter++;
			}

			var percentage = circleDiameter / 7;
			var progress = counter/totalLength;

			var red = 255 - (progress*255);
			var blue = progress*255;
			var color = "rgb(" + red + ", 200, " + blue + ")";

		container.innerHTML = `

			<div style="background-color:${color}; opacity:${percentage}; width:${circleDiameter}vw; height:${circleDiameter}vw; " class= "circle">
			</div>

		`

		var child = document.getElementsByClassName('container')[0]
			console.log(child)

		//OPT 1: walking or driving along street
			// if(circleDiameter < 2 ){
			// 	child.remove()
			// }

		//OPT 2: diamond effect
			if(circleDiameter < 2 ){
				child.remove()
			}
			if(circleDiameter > 2){
				child.remove()
			}

		document.getElementById("wrapper").appendChild(container)
		window.scrollTo(0,document.body.scrollHeight);

		counter++;
		}, interval)
		interval += 50;

	}



	// //link to scroll top of page
	// 	var timeOut;
	// 		function scrollToTop() {
	// 			if (totalLength=100){
	// 				window.scrollBy(0,-50);
	// 				timeOut=setTimeout('scrollToTop()',10);
	// 			}
	// 			else clearTimeout(timeOut);
	// 		}


</script>

</body>
</html>
