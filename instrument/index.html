<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>You Got This!</title>
	<style type="text/css">

		@font-face {font-family: "Roboto-Medium"; src: url("../instrument/Roboto/Roboto-Medium.ttf"); }
		@font-face {font-family: "Roboto-Light"; src: url("../instrument/Roboto/Roboto-Light.ttf"); }
		@font-face {font-family: "Roboto-Regular"; src: url("../instrument/Roboto/Roboto-Regular.ttf"); }
		@font-face {font-family: "Roboto-Thin"; src: url("../instrument/Roboto/Roboto-Thin.ttf"); }
		@font-face {font-family: "Roboto-Regular"; src: url("../instrument/Roboto/Roboto-Regular.ttf"); }

		html,body {
			width: 100vw;
			height: 100%;
			margin: 0;
			margin-bottom: 0;
			background-color: #0055ff;
		}

		#wrapper{
			position: relative;
			width:100vw;
			height: 100%;
		}
		.enterPressed{

		}
		.landing{
			position: relative;
			font-family: Roboto-Medium;
			font-size: 2em;
			color: #FFFF69;
			margin:0;
			width:45vw;
			left: 30%;
			top:40%;
			transform: translate(-50%, -50%);
		}
		.intro{
			position: relative;
			top:75%;
		}
		#fillIn{
			position: relative;
			width:45vw;
			height:6vw;
			background-color: transparent;
			color:#FA91F8;
			font-size:1.5em;
			font-family: Roboto-Regular;
			border-top:#FFFF69;
			border-left:#FFFF69;
			border-right:#FFFF69;
			border-bottom: 10px solid #FA91F8;
		}

		.svgContainer{
			position: absolute;
			width:45vw;
			height:100%;
			overflow-y: hidden;
			top:0;
			right:2vw;
		}
		.line{
			position: relative;
			animation-duration:40s;
			animation-name: moving;
			animation-iteration-count: infinite;
    		animation-direction: alternate;

		}
		@keyframes moving {
    		from {
        		bottom: 0%;
    		}
    		to {
       			bottom: 100%;
    		}
		}

/*		button{
			position: relative;
			border-bottom:1px solid black;
		}*/

/*		#paperjsCanvas{
			position: fixed;
			top: 0px;
			left: 0px;
			width: 100%;
			height: 100vh;
		}*/




	</style>

	<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous">
	</script>

	<script src="fabric.js">

		//   var canvas = new fabric.Canvas('canvas');
  // canvas.add(new fabric.Circle({ radius: 30, fill: '#f55', top: 100, left: 100 }));
  // canvas.hoverCursor = 'pointer';
  // this.__canvases.push(canvas);

	</script>

	<script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>

</head>
<body>

	<div id="wrapper">
		<div class="landing">
			<h1 class="intro"></h1>
			<div class='countdown'>
				<div class='times'>
					<span class='inputData'> Hours: </span>
					<input type="text" id="hrs" name="hrs" value="0" size="3" maxlength="3" />
				</div>
				<div class='times'>
					<span class='inputData'> Minutes: </span>
					<input type="text" id="mns" name="mns" value="0" size="3" maxlength="3" /> 
				</div>
				<div class='times'>
					<span class='inputData'> Seconds: </span>
					<input type="text" id="scs" name="scs" value="0" size="2" maxlength="2" />
				</div>

				<span id="showHrs">00</span>:<span id="showMins">00</span>:<span id="showSecs">00</span>

				<div class="startButton"></div>
				<div class="pauseButton" onclick="clicks++"></div>

			</div>
			<input id="fillIn" maxlength="200" name="fillIn"  type="text">



		</div>
	</div>


	<div class = "svgContainer">
			<img class="line" src="./img/svgone.svg"/>
	</div>

	<canvas id="canvas" resize="true"></canvas>

	<script type="text/javascript">

		document.getElementById("fillIn").value =
		document.getElementById("fillIn").defaultValue = window.location.href.substring(91);

		$(".intro").text("What would you like to accomplish today?");
		$(".intro").show();
		$(".countdown").hide();

		$("input").keydown(function(event) {
			if (event.keyCode == 13) {
				$(".intro").hide();
				$(".countdown").show();


		    	console.log("enterpressed");
			}
		});



	var mins = 0;
	var secs = 0;
	var hrs = 0;
	var startchr = 0;
	var countDown = countdownTimer();

function countdownTimer() {
	if(startchr == 0 && document.getElementById('hrs') &&document.getElementById('mns') && document.getElementById('scs')) {
    // uses integer numbers
    hrs = parseInt(document.getElementById('mns').value) + 0;
    mins = parseInt(document.getElementById('mns').value) + 0;
    secs = parseInt(document.getElementById('scs').value) * 1;

    // if data not a number, sets the value to 0
    if(isNaN(hrs)) hrs = 0;
    if(isNaN(mins)) mins = 0;
    if(isNaN(secs)) secs = 0;

    // rewrite data for input to contain integer number
    document.getElementById('hrs').value = mins;
    document.getElementById('mns').value = mins;
    document.getElementById('scs').value = secs;
    startchr = 1;
    // document.getElementById('btnct').setAttribute('disabled', 'disabled');     // disable the button
  }

// if = 0, set $startchr to 0, & return false
  if(hrs==0 && mins==0 && secs==0) {
    startchr = 0;
  	
 return false;
  }
  else {
    // minus seconds, and decrease minutes if seconds reach to 0
    secs--;
    if(secs < 0) {
      if(mins > 0) {
        secs = 59;
        mins--;
      }
      else {
        secs = 0;
        mins = 0;
      }

    mins--;
    if (mins < 0) {
    	if(hrs > 0){
    		mins = 59;
    		hrs--;
    	}
    }else{
    	mins = 0;
    	hrs = 0;
    }
    }
  }

    // display the time in page, and auto-calls this function after 1 seccond
  document.getElementById('showHrs').innerHTML = hrs;
  document.getElementById('showMins').innerHTML = mins;
  document.getElementById('showSecs').innerHTML = secs;

  setTimeout('countdownTimer()', 1000);
}

$(".svgContainer").hide();
// $("#canvas").hide();
$(".startButton").text("start");

	$(".startButton").click(function(){
		var allButton = true;
		if(allButton){
			console.log("clicked start");
			// $(".startButton").text("i need a break");
			$("#wrapper").css({"background-color": "salmon" });
			$("#fillIn").css({"color": "#0055ff", "border": "0" });
			$(".intro").css({"color": "#FFFF69" });
			$(".inputData").css({"color": "#FFFF69" });
			$(".svgContainer").show();
			countdownTimer();
			$(".pauseButton").text("i need a break");
			allButton = true;
		//else statement not working?
		}else{
			console.log("is it working?");
			// return setTime();
			$(".startButton").text("start");
			$(".svgContainer").hide();
			allButton = false;
		}

	});

	$(".pauseButton").click(function(){
		
		console.log("pause");

		// clearTimeout(countDown);
		$("#wrapper").css({"background-color": "#0055ff" });
		$(".svgContainer").hide();
		$("#fillIn").css({"color": "#FA91F8", "border": "0" });
var clickCount = parseInt($.cookie('clickCount'), 10);

   clickCount++;

   if (clickCount >= 3) {
       $('div').show();
   }

   $.cookie('clickCount', clickCount, { path: '/' });

		// $("#canvas").hide();
	});

	

	// function breakPage (){
 //        var canvas = new fabric.Canvas('canvas');
 //        canvas.add(new fabric.Circle({ radius: 30, fill: '#f55', top: 100, left: 100 }));

 //        canvas.selectionColor = 'rgba(0,255,0,0.3)';
 //        canvas.selectionBorderColor = 'red';
 //        canvas.selectionLineWidth = 5;
	// }


// 	$(document).ready(function(){
// 		var canvas = new fabric.Canvas('canvas');
//         canvas.add(new fabric.Circle({ radius: 30, fill: '#f55', top: 100, left: 100 }));

//         canvas.selectionColor = 'rgba(0,255,0,0.3)';
//         canvas.selectionBorderColor = 'red';
//         canvas.selectionLineWidth = 5;
// });
	</script>


</body>
</html>



